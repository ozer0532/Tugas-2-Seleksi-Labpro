(this["webpackJsonpsuspect-expander"]=this["webpackJsonpsuspect-expander"]||[]).push([[0],{130:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(32),s=(n(95),n(10)),o=n.n(s),c=n(27),l=n(20),u=n(21),h=n(6),d=n(26),p=n(24),f=n(159),m=n(156),g=n(157),v=n(77),b=n.n(v),k=n(78),y=n.n(k),x="https://avatar.labpro.dev/";function E(e){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.a.join(x,"friends/",t),e.next=3,y.a.get(n);case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("1",[]);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(o.a.mark((function e(t,n){var a,r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.some((function(e){return e.id===t}))){e.next=2;break}return e.abrupt("return",n);case 2:return e.next=4,E(t);case 4:if(a=e.sent,r=n,200!==a.status){e.next=19;break}n.push({id:t,name:a.payload.name}),i=a.payload.friends,s=0;case 10:if(!(s<i.length)){e.next=17;break}return e.next=13,w(i[s].id,r);case 13:r=e.sent;case 14:s++,e.next=10;break;case 17:e.next=20;break;case 19:404===a.status&&console.log("Missing: "+t);case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=n(160),R=n(161),N=n(132),L=n(79),D=n.n(L),G={paper:{display:"flex",padding:"2px 4px",margin:"10px"},field:{flex:1,marginLeft:"10px"},icon:{padding:"10px"}},I=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={value:""},a.inputChange=a.inputChange.bind(Object(h.a)(a)),a.onEnterPressed=a.onEnterPressed.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"inputChange",value:function(e){this.setState({value:e.target.value})}},{key:"onEnterPressed",value:function(e){13===e.keyCode&&this.props.onEnterPressed(this.state.value)}},{key:"render",value:function(){var e=this;return r.a.createElement(N.a,{style:G.paper},r.a.createElement(R.a,{style:G.field,placeholder:"Pencarian - Masukkan nama lengkap atau id",onChange:this.inputChange,onKeyDown:this.onEnterPressed}),r.a.createElement(S.a,{style:G.icon,onClick:function(){return e.props.onSearch(e.state.value)}},r.a.createElement(D.a,null)))}}]),n}(r.a.Component),M=n(152),F=n(154),H=n(153),B={mainContainer:{margin:"15px"},spaced:{marginTop:"15px"},card:{padding:"10px",marginTop:"10px",marginBottom:"10px"}};var T=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).RenderIdElements=a.RenderIdElements.bind(Object(h.a)(a)),a.RenderFriend=a.RenderFriend.bind(Object(h.a)(a)),a.RenderFriends=a.RenderFriends.bind(Object(h.a)(a)),a.SearchText=a.SearchText.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"RenderIdElements",value:function(e){return null==e.data||"-"===e.data.name||this.props.searching?"":r.a.createElement(r.a.Fragment,null,"Id: "+e.data.id+" ","Elemen: ",r.a.createElement("i",null,e.data.element))}},{key:"RenderFriend",value:function(e){return r.a.createElement(M.a,{style:B.card},r.a.createElement(H.a,{variant:"subtitle2",color:"textSecondary"},e.index+1+"."),r.a.createElement(H.a,{variant:"h6"},e.entry.name),r.a.createElement(this.RenderIdElements,{data:e.entry}))}},{key:"RenderFriends",value:function(){var e=this;return"-"===this.props.data.name||this.props.searching||this.props.fail?"":"friends"in this.props.data&&this.props.data.friends.length>0?r.a.createElement(f.a,{style:B.spaced},r.a.createElement(H.a,{variant:"h6"},"Rekan:"),function(e){var t=e;return t=t.filter((function(e,n){var a=JSON.stringify(e);return n===t.findIndex((function(e){return a===JSON.stringify(e)}))}))}(this.props.data.friends).map((function(t,n){return r.a.createElement(f.a,{key:n},r.a.createElement(e.RenderFriend,{entry:t,index:n}))}))):r.a.createElement(f.a,null,r.a.createElement(H.a,null," Rekan: Tidak ada "))}},{key:"SearchText",value:function(){return this.props.searching?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{variant:"subtitle1",color:"textSecondary"},"Hasil Pencarian:"),r.a.createElement(H.a,{variant:"h5"},"Mencari..."),r.a.createElement(H.a,{style:B.spaced})):this.props.fail?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{variant:"subtitle1",color:"textSecondary"},"Hasil Pencarian:"),r.a.createElement(H.a,{variant:"h5"},"Orang tidak ditemukan"),r.a.createElement(H.a,{style:B.spaced})):r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{variant:"subtitle1",color:"textSecondary"},"Hasil Pencarian:"),r.a.createElement(H.a,{variant:"h5"},this.props.data.name),r.a.createElement(H.a,{style:B.spaced},r.a.createElement(this.RenderIdElements,{data:this.props.data})))}},{key:"render",value:function(){return r.a.createElement(f.a,{style:B.mainContainer},this.SearchText(),r.a.createElement(F.a,{style:B.spaced}),this.RenderFriends())}}]),n}(r.a.Component),W=n(80),z={container:{height:"100%",overflow:"hidden"},graph:{height:"100%",width:"100%"}},J={nodeHighlightBehavior:!0,node:{color:"lightgreen",size:120,highlightStrokeColor:"blue",labelProperty:"name"},link:{highlightColor:"lightblue"},height:800,directed:!0},Y=function(){},K=function(e){},$=function(e,t){},q=function(e){},A=function(e){},Q=function(e,t){},U=function(e,t,n){},V=function(e,t){},X=function(e,t){},Z=function(e,t,n){},_=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).decorateGraphNodesWithInitialPositioning=function(e){return e.map((function(e){return Object.assign({},e,{x:e.x||window.innerHeight/2-Math.floor(100*Math.random()),y:e.y||window.innerHeight/2-Math.floor(100*Math.random())})}))},a.state={config:J},a.onClickNode=a.onClickNode.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.sizeBox.clientHeight,t=this.sizeBox.clientWidth;J.height=e,J.width=t,this.setState({})}},{key:"onClickNode",value:function(e){"function"===typeof this.props.onClick&&(console.log("yes"),this.props.onClick(e))}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{ref:function(t){e.sizeBox=t},style:z.container},r.a.createElement(W.Graph,{style:z.graph,ref:function(t){e.graph=t},id:"graph",data:{nodes:this.decorateGraphNodesWithInitialPositioning(this.props.data.nodes),links:this.props.data.links},config:this.state.config,onClickNode:this.onClickNode,onDoubleClickNode:K,onRightClickNode:$,onClickGraph:Y,onClickLink:Q,onRightClickLink:U,onMouseOverNode:q,onMouseOutNode:A,onMouseOverLink:V,onMouseOutLink:X,onNodePositionChange:Z}))}}]),n}(r.a.Component),ee={root:{display:"flex",flexDirection:"column",background:"white",height:"100vh"},searchContainer:{background:"#2196f3"},mainContainer:{flex:"0 1 100%",overflowY:"auto"},dataContainer:{background:"#fafafa",overflowY:"auto",maxHeight:"100%"},graphContainer:{background:"#fff",height:"100%"},displayerContainer:{}},te=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={personList:[],currentPerson:{id:"0",name:"-",friends:[]},searching:!1,fail:!1,graphData:{nodes:[{id:"0",name:"-",x:-100,y:-100}],links:[]}},a.GetPersonList=a.GetPersonList.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.updateGraphData=a.updateGraphData.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"GetPersonList",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=e.sent,this.state.personList=t,console.log(this.state);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSearch",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,r,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.searching){e.next=2;break}return e.abrupt("return");case 2:if(this.setState({searching:!0}),t=t.trim(),n=parseInt(t),isNaN(n)){e.next=13;break}return e.next=8,E(t);case 8:if(200!==(a=e.sent).status){e.next=13;break}return this.setState({searching:!1,currentPerson:a.payload,fail:!1}),this.updateGraphData(),e.abrupt("return");case 13:0===this.state.personList.length&&this.GetPersonList(),r=setInterval(Object(c.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.state.personList.length>0)){e.next=13;break}if(clearInterval(r),!((n=i.state.personList.filter((function(e){return e.name===t}))).length>0)){e.next=12;break}return e.next=6,E(n[0].id);case 6:a=e.sent,console.log(a),i.setState({searching:!1,currentPerson:a.payload,fail:!1}),i.updateGraphData(),e.next=13;break;case 12:i.setState({searching:!1,fail:!0});case 13:case"end":return e.stop()}}),e)}))),100);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateGraphData",value:function(){var e=this,t=this.state.graphData;void 0===t.nodes.find((function(t){return t.id===e.state.currentPerson.id}))&&t.nodes.push({id:this.state.currentPerson.id,name:this.state.currentPerson.name}),this.state.currentPerson.friends.forEach((function(n,a){void 0===t.nodes.find((function(e){return e.id===n.id}))&&t.nodes.push({id:n.id,name:n.name});var r={source:e.state.currentPerson.id,target:n.id};void 0===t.links.find((function(e){return e.source===r.source&&e.target===r.target}))&&t.links.push(r)})),this.setState({graphData:t}),console.log(this.state)}},{key:"render",value:function(){return r.a.createElement(f.a,{style:ee.root},r.a.createElement(f.a,{style:ee.searchContainer},r.a.createElement(m.a,null,r.a.createElement(I,{onSearch:this.onSearch,onEnterPressed:this.onSearch}))),r.a.createElement(g.a,{container:!0,spacing:0,style:ee.mainContainer},r.a.createElement(g.a,{item:!0,xs:12,md:4,lg:3,style:ee.dataContainer},r.a.createElement(T,{data:this.state.currentPerson,searching:this.state.searching,fail:this.state.fail})),r.a.createElement(g.a,{item:!0,xs:12,md:8,lg:9,style:ee.graphContainer},r.a.createElement(_,{data:this.state.graphData,onClick:this.onSearch}))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(i.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500"}),r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,n){e.exports=n(130)},95:function(e,t,n){}},[[90,1,2]]]);
//# sourceMappingURL=main.eb9312f2.chunk.js.map